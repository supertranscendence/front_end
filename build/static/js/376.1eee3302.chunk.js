"use strict";(self.webpackChunksleact_ts_front=self.webpackChunksleact_ts_front||[]).push([[376],{66376:function(n,o,e){e.r(o),e.d(o,{default:function(){return P}});var r,t,a,i,s=e(42982),l=e(70885),c=e(1413),u=e(72791),d=e(71358),p=e(30168),h=e(14193),x=h.Z.thead(r||(r=(0,p.Z)(["\n\n  & tr {\n    background: skyblue;\n    width: 40000px\n  }\n"]))),f=h.Z.tbody(t||(t=(0,p.Z)(["\n\n  & tr {\n   \n  }\n"]))),g=e(43601),b=e(80184),m=function(n){var o=n.columns,e=n.data,r=(0,d.useTable)({columns:o,data:e}),t=r.getTableProps,a=r.getTableBodyProps,i=r.headerGroups,s=r.rows,l=r.prepareRow;return(0,b.jsx)(g.XH,{children:(0,b.jsxs)("table",(0,c.Z)((0,c.Z)({},t()),{},{children:[(0,b.jsx)(x,{children:i.map((function(n){return(0,b.jsx)("tr",(0,c.Z)((0,c.Z)({},n.getHeaderGroupProps()),{},{children:n.headers.map((function(n){return(0,b.jsx)("th",(0,c.Z)((0,c.Z)({},n.getHeaderProps()),{},{children:n.render("Header")}))}))}))}))}),(0,b.jsx)(f,(0,c.Z)((0,c.Z)({},a()),{},{children:s.map((function(n){return l(n),(0,b.jsx)("tr",(0,c.Z)((0,c.Z)({},n.getRowProps()),{},{children:n.cells.map((function(n){return(0,b.jsx)("td",(0,c.Z)((0,c.Z)({},n.getCellProps()),{},{children:n.render("Cell")}))}))}))}))}))]}))})},Z=e(70648),w=e(64880),v=e(91523),k=e(5803),C=e(6498),j=e(56803),_=h.Z.div(a||(a=(0,p.Z)(["\n  position: fixed;\n  text-align: center;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  right: 0;\n  z-index: 1022;\n\n  & > div {\n    margin-top: 200px;\n    display: inline-block;\n    width: 440px;\n    background: white;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 4px 12px 0 rgba(0, 0, 0, 0.12);\n    background-color: rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);\n    border-radius: 6px;\n    user-select: none;\n    max-width: 440px;\n    padding: 30px 40px 0;\n    z-index: 1012;\n    position: relative;\n  }\n"]))),y=h.Z.button(i||(i=(0,p.Z)(["\n  position: absolute;\n  right: 10px;\n  top: 6px;\n  background: transparent;\n  border: none;\n  font-size: 30px;\n  cursor: pointer;\n"]))),z=function(n){var o=n.show,e=n.children,r=n.onCloseModal,t=(0,u.useCallback)((function(n){n.stopPropagation()}),[]);return o?(0,b.jsx)(_,{onClick:r,children:(0,b.jsxs)("div",{onClick:t,children:[(0,b.jsx)(y,{onClick:r,children:"\xd7"}),e]})}):null},R=e(88385),H=e(72419),S=function(n){var o=n.show,e=(n.children,n.onCloseModal),r=n.setShowCreateRoomModal,t=(0,H.ZP)("http://localhost:3095/api/users",R.Z),a=(t.data,t.error,t.mutate),i=(0,j.Z)(""),s=(0,l.Z)(i,3),c=s[0],d=s[1],p=s[2],h=(0,w.UO)(),x=h.workspace,f=(h.channel,(0,Z.Z)(x)),g=(0,l.Z)(f,1)[0],m=(0,u.useCallback)((function(){a(),p(""),r(!1)}),[]),v=(0,u.useCallback)((function(n){n.preventDefault(),c&&c.trim()&&(console.log("createRoom!",c),null===g||void 0===g||g.emit("create-room",c,m),null===g||void 0===g||g.on("helloRoom",(function(n){return console.log(n)})))}),[c]);return o?(0,b.jsx)(z,{show:o,onCloseModal:e,children:(0,b.jsxs)("form",{onSubmit:v,children:[(0,b.jsxs)(C.__,{id:"room-create",children:[(0,b.jsx)("span",{children:"\ucc44\ub110"}),(0,b.jsx)(C.II,{id:"room",value:c,onChange:d})]}),(0,b.jsx)(C.zx,{type:"submit",children:"\uc0dd\uc131"})]})}):null},P=((0,k.ZP)((function(){return e.e(314).then(e.bind(e,24314))})),function(){var n=(0,w.UO)().workspace,o=(0,Z.Z)(n),e=(0,l.Z)(o,1)[0],r=(0,u.useState)(!1),t=(0,l.Z)(r,2),a=t[0],i=t[1],c=(0,u.useState)(!1),d=(0,l.Z)(c,2),p=d[0],h=d[1],x=(0,u.useState)([]),f=(0,l.Z)(x,2),g=f[0],k=f[1];(0,u.useEffect)((function(){console.log("hi"),null===e||void 0===e||e.on("getChatRoomInfoSWR",(function(){k((0,s.Z)(g))}))}),[g]);var C=(0,u.useCallback)((function(){i(!0)}),[]),j=(0,u.useCallback)((function(){i(!1)}),[]),_=(0,u.useState)([]),y=(0,l.Z)(_,2),z=y[0],R=y[1],H=(0,u.useCallback)((function(o){console.log("publicRooms",o),R((0,s.Z)(o.map((function(o){return{name:o,roomType:"public",currCnt:1,enterButton:(0,b.jsx)(v.rU,{to:"/workspace/".concat(n,"/channel/Chat/").concat(o),children:(0,b.jsx)("button",{children:"\uc785\uc7a5"})})}})))),console.log("roomArr",z)}),[z]);(0,u.useEffect)((function(){null===e||void 0===e||e.emit("getChatRoomInfo",{},H),console.log("room arr:",z)}),[e,p]),(0,u.useEffect)((function(){null===e||void 0===e||e.on("new-room-created",(function(){h(!p)}))}),[z]);var P=(0,u.useMemo)((function(){return[{accessor:"name",Header:"Name"},{accessor:"roomType",Header:"RoomType"},{accessor:"currCnt",Header:"CurrCnt"},{accessor:"enterButton",Header:(0,b.jsx)("button",{onClick:C,children:"\uc0dd\uc131 \ubc84\ud2bc"})}]}),[]);return(0,b.jsxs)("div",{children:[(0,b.jsx)(m,{columns:P,data:z}),(0,b.jsx)(S,{show:a,onCloseModal:j,setShowCreateRoomModal:i})]})})},6498:function(n,o,e){e.d(o,{II:function(){return g},Ji:function(){return w},__:function(){return f},fB:function(){return Z},h4:function(){return h},jj:function(){return m},l0:function(){return x},zx:function(){return b}});var r,t,a,i,s,l,c,u,d=e(30168),p=e(14193),h=p.Z.header(r||(r=(0,d.Z)(["\n  text-align: center;\n  font-family: Slack-Larsseit, Helvetica Neue, Helvetica, Segoe UI, Tahoma, Arial, sans-serif;\n  font-weight: 700;\n  font-size: 48px;\n  line-height: 46px;\n  letter-spacing: -0.75px;\n  margin-top: 50px;\n  margin-bottom: 50px;\n"]))),x=p.Z.form(t||(t=(0,d.Z)(["\n  margin: 0 auto;\n  width: 400px;\n  max-width: 400px;\n"]))),f=p.Z.label(a||(a=(0,d.Z)(["\n  margin-bottom: 16px;\n\n  & > span {\n    display: block;\n    text-align: left;\n    padding-bottom: 8px;\n    font-size: 15px;\n    cursor: pointer;\n    line-height: 1.46666667;\n    font-weight: 700;\n  }\n"]))),g=p.Z.input(i||(i=(0,d.Z)(["\n  border-radius: 4px;\n  --saf-0: rgba(var(--sk_foreground_high_solid, 134, 134, 134), 1);\n  border: 1px solid var(--saf-0);\n  transition: border 80ms ease-out, box-shadow 80ms ease-out;\n  box-sizing: border-box;\n  margin: 0 0 20px;\n  width: 100%;\n  color: rgba(var(--sk_primary_foreground, 29, 28, 29), 1);\n  background-color: rgba(var(--sk_primary_background, 255, 255, 255), 1);\n  padding: 12px;\n  height: 44px;\n  padding-top: 11px;\n  padding-bottom: 13px;\n  font-size: 18px;\n  line-height: 1.33333333;\n\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\n  }\n"]))),b=p.Z.button(s||(s=(0,d.Z)(["\n  margin-bottom: 12px;\n  width: 100%;\n  max-width: 100%;\n  color: #fff;\n  background-color: #4a154b;\n  border: none;\n  font-size: 18px;\n  font-weight: 900;\n  height: 44px;\n  min-width: 96px;\n  padding: 0 16px 3px;\n  transition: all 80ms linear;\n  user-select: none;\n  outline: none;\n  cursor: pointer;\n  border-radius: 4px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\n\n  &:hover {\n    background-color: rgba(74, 21, 75, 0.9);\n    border: none;\n  }\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\n  }\n"]))),m=p.Z.div(l||(l=(0,d.Z)(["\n  color: #e01e5a;\n  margin: 8px 0 16px;\n  font-weight: bold;\n"]))),Z=p.Z.div(c||(c=(0,d.Z)(["\n  color: #2eb67d;\n  font-weight: bold;\n"]))),w=p.Z.p(u||(u=(0,d.Z)(["\n  font-size: 13px;\n  color: #616061;\n  margin: 0 auto 8px;\n  width: 400px;\n  max-width: 400px;\n\n  & a {\n    color: #1264a3;\n    text-decoration: none;\n    font-weight: 700;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"])))}}]);
//# sourceMappingURL=376.1eee3302.chunk.js.map